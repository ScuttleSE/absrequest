# =============================================================================
# ABS Request Manager — Environment Configuration
# Copy this file to .env and fill in your values.
# =============================================================================

# Flask secret key — generate with:
#   python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-me-to-a-long-random-string

# Flask app entrypoint (do not change unless you rename run.py)
FLASK_APP=run.py

# Allow new user self-registration (true/false)
ALLOW_REGISTRATION=true

# ── Database ──────────────────────────────────────────────────────────────────
# Note: four slashes — the path /app/data/... is absolute inside the container.
DATABASE_URL=sqlite:////app/data/audiobook_requests.db

# ── OAuth2 / SSO (optional) ───────────────────────────────────────────────────
# Set OAUTH2_ENABLED=true and fill in the provider details to enable SSO login.
OAUTH2_ENABLED=false
OAUTH2_PROVIDER_NAME=SSO
OAUTH2_CLIENT_ID=
OAUTH2_CLIENT_SECRET=

# RECOMMENDED: set the OIDC discovery document URL — the app will discover all
# other endpoints (including jwks_uri for token validation) automatically.
# For most providers this is: https://<your-provider>/.well-known/openid-configuration
# Examples:
#   Authentik:  https://auth.example.com/application/o/<slug>/.well-known/openid-configuration
#   Keycloak:   https://auth.example.com/realms/<realm>/.well-known/openid-configuration
#   Auth0:      https://<tenant>.auth0.com/.well-known/openid-configuration
OAUTH2_SERVER_METADATA_URL=

# Manual fallback (only used when OAUTH2_SERVER_METADATA_URL is not set):
OAUTH2_AUTHORIZATION_URL=
OAUTH2_TOKEN_URL=
OAUTH2_USERINFO_URL=
OAUTH2_JWKS_URI=

OAUTH2_SCOPE=openid email profile
# Bootstrap Icons class for the SSO button (see https://icons.getbootstrap.com/)
OAUTH2_ICON=bi-box-arrow-in-right

# ── Audible search ────────────────────────────────────────────────────────────
# Region for Audible search (us, uk, au, ca, de, fr, it, es, jp, in) — default: us
AUDIBLE_REGION=us

# ── Audiobookshelf ────────────────────────────────────────────────────────────
AUDIOBOOKSHELF_URL=http://your-abs-server:13378
AUDIOBOOKSHELF_API_TOKEN=

# Fuzzy-match threshold for ABS library matching (0.0 – 1.0)
ABS_MATCH_THRESHOLD=0.85

# How often the scheduler syncs with the ABS library (hours)
ABS_SYNC_INTERVAL_HOURS=6

