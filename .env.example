# =============================================================================
# ABS Request Manager — Environment Configuration
# Copy this file to .env and fill in your values.
# =============================================================================

# Flask secret key — generate with:
#   python -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=change-me-to-a-long-random-string

# Flask app entrypoint (do not change unless you rename run.py)
FLASK_APP=run.py

# Allow new user self-registration (true/false)
ALLOW_REGISTRATION=true

# ── Database ──────────────────────────────────────────────────────────────────
# SQLite (default, for development and simple single-server deployments).
# Note: four slashes — the path /app/data/... is absolute inside the container.
DATABASE_URL=sqlite:////app/data/audiobook_requests.db

# PostgreSQL (use with: docker compose --profile postgres up)
# DATABASE_URL=postgresql://absrequest:password@db:5432/absrequest

# ── OAuth2 / SSO (optional) ───────────────────────────────────────────────────
# Set OAUTH2_ENABLED=true and fill in the provider details to enable SSO login.
OAUTH2_ENABLED=false
OAUTH2_PROVIDER_NAME=SSO
OAUTH2_CLIENT_ID=
OAUTH2_CLIENT_SECRET=
OAUTH2_AUTHORIZATION_URL=
OAUTH2_TOKEN_URL=
OAUTH2_USERINFO_URL=
OAUTH2_SCOPE=openid email profile
# Bootstrap Icons class for the SSO button (see https://icons.getbootstrap.com/)
OAUTH2_ICON=bi-box-arrow-in-right

# ── Audible search ────────────────────────────────────────────────────────────
# Marketplace for the Audible catalog search (US, UK, AU, CA, DE, FR, IT, ES, JP, IN)
AUDIBLE_MARKETPLACE=US

# ── Audiobookshelf ────────────────────────────────────────────────────────────
AUDIOBOOKSHELF_URL=http://your-abs-server:13378
AUDIOBOOKSHELF_API_TOKEN=

# Fuzzy-match threshold for ABS library matching (0.0 – 1.0)
ABS_MATCH_THRESHOLD=0.85

# How often the scheduler syncs with the ABS library (hours)
ABS_SYNC_INTERVAL_HOURS=6

# ── PostgreSQL credentials (only needed with --profile postgres) ──────────────
POSTGRES_USER=absrequest
POSTGRES_PASSWORD=changeme
POSTGRES_DB=absrequest
